[gd_scene load_steps=19 format=3 uid="uid://baawn2w8fbjpc"]

[ext_resource type="Script" uid="uid://c13owiby5n1lo" path="res://car_controller.gd" id="2_dd2be"]
[ext_resource type="Script" uid="uid://bc2kqlh02egte" path="res://addons/orbit_camera/orbit_camera.gd" id="2_t3gmr"]

[sub_resource type="Environment" id="Environment_sskuf"]

[sub_resource type="CameraAttributesPhysical" id="CameraAttributesPhysical_tpaj3"]

[sub_resource type="Compositor" id="Compositor_sskuf"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_sskuf"]
albedo_color = Color(0.11119685, 0.11119685, 0.11119679, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_tpaj3"]

[sub_resource type="Skin" id="Skin_sskuf"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_dd2be"]
friction = 0.8
rough = true

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_dd2be"]
points = PackedVector3Array(-1, 0, -1, -1, 0, 1, 1, 0, -1, 1, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dd2be"]

[sub_resource type="TextMesh" id="TextMesh_t3gmr"]
material = SubResource("StandardMaterial3D_dd2be")
text = "→"
font_size = 32

[sub_resource type="BoxShape3D" id="BoxShape3D_sskuf"]

[sub_resource type="BoxMesh" id="BoxMesh_t3gmr"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tpaj3"]
albedo_color = Color(0.11119685, 0.11119684, 0.11119684, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_dd2be"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t3gmr"]

[sub_resource type="TextMesh" id="TextMesh_sl0jo"]
material = SubResource("StandardMaterial3D_t3gmr")
text = "✕"
font_size = 64

[node name="Test Track" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sskuf")
camera_attributes = SubResource("CameraAttributesPhysical_tpaj3")
compositor = SubResource("Compositor_sskuf")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 10, 0)

[node name="Track Mesh" type="MeshInstance3D" parent="."]
transform = Transform3D(24.620193, 0.2604723, 0, -4.341205, 1.4772116, 0, 0, 0, 5, 20, -7, 0)
material_override = SubResource("StandardMaterial3D_sskuf")
mesh = SubResource("PlaneMesh_tpaj3")
skin = SubResource("Skin_sskuf")

[node name="StaticBody3D" type="StaticBody3D" parent="Track Mesh"]
physics_interpolation_mode = 1
physics_material_override = SubResource("PhysicsMaterial_dd2be")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Track Mesh/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_dd2be")

[node name="ArrowMesh 1" type="MeshInstance3D" parent="Track Mesh"]
transform = Transform3D(0.9998874, 0.074047334, 0.010579933, 0.010581017, 0.00078319013, -0.99994355, -0.010578792, 6.999608, -4.712787e-08, -0.4751284, -0.013030052, 0.2707596)
mesh = SubResource("TextMesh_t3gmr")

[node name="ArrowMesh 2" type="MeshInstance3D" parent="Track Mesh"]
transform = Transform3D(0.9998876, 0.074047364, 0.010579935, 0.01058054, 0.00078319013, -0.99994355, -0.010578792, 6.999608, -4.712787e-08, 0.00022923946, -0.021657228, 0.2707596)
mesh = SubResource("TextMesh_t3gmr")

[node name="ArrowMesh 3" type="MeshInstance3D" parent="Track Mesh"]
transform = Transform3D(0.9998874, 0.07404734, 0.010579933, 0.010581017, 0.00078319013, -0.99994355, -0.010578792, 6.999608, -4.712787e-08, 0.48353302, -0.013087988, 0.2707596)
mesh = SubResource("TextMesh_t3gmr")

[node name="VehicleBody3D" type="VehicleBody3D" parent="."]
center_of_mass_mode = 1
script = ExtResource("2_dd2be")

[node name="Camera Node" type="Node3D" parent="VehicleBody3D"]
transform = Transform3D(-4.371139e-08, 0.25881904, -0.9659258, 0, 0.9659258, 0.25881904, 1, 1.131334e-08, -4.222196e-08, 0, 0, 0)

[node name="OrbitCamera" type="Camera3D" parent="VehicleBody3D/Camera Node"]
script = ExtResource("2_t3gmr")
DEFAULT_DISTANCE = 5.0
ANCHOR_NODE_PATH = NodePath("..")
metadata/_custom_type_script = "uid://bc2kqlh02egte"

[node name="CollisionShape3D" type="CollisionShape3D" parent="VehicleBody3D"]
transform = Transform3D(0.50000006, 0, 1.7763568e-15, 0, 0.50000006, 4.440892e-16, 0, 0, 0.5, 0, 0, 0)
shape = SubResource("BoxShape3D_sskuf")

[node name="MeshInstance3D" type="MeshInstance3D" parent="VehicleBody3D"]
transform = Transform3D(3, 0, 0, 0, 0.5, 0, 0, 0, 1.5, 0, 0, 0)
mesh = SubResource("BoxMesh_t3gmr")

[node name="VehicleWheel3D FR" type="VehicleWheel3D" parent="VehicleBody3D"]
physics_interpolation_mode = 1
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 1.5, 0, 1)
use_as_steering = true
wheel_roll_influence = 0.5
wheel_friction_slip = 1.0
suspension_stiffness = 20.0
suspension_max_force = 160.0
damping_compression = 0.3
damping_relaxation = 0.5

[node name="TireMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D FR"]
transform = Transform3D(-4.3711385e-08, -0.2, -4.371139e-08, 1, -8.742278e-09, 4.371139e-08, -4.3711392e-08, -8.742277e-09, 1, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_tpaj3")
mesh = SubResource("CylinderMesh_dd2be")

[node name="RimMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D FR/TireMesh"]
transform = Transform3D(1.305, -4.986889e-16, 1.7763568e-15, 0, -5.7043362e-08, -1.3050001, -1.4433147e-22, 1.305, -5.704336e-08, 0.030979846, 0.99105644, 0.052454233)
mesh = SubResource("TextMesh_sl0jo")

[node name="VehicleWheel3D FL" type="VehicleWheel3D" parent="VehicleBody3D"]
physics_interpolation_mode = 1
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 1.5, 0, -1)
use_as_steering = true
wheel_roll_influence = 0.5
wheel_friction_slip = 1.0
suspension_stiffness = 20.0
suspension_max_force = 160.0
damping_compression = 0.3
damping_relaxation = 0.5

[node name="TireMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D FL"]
transform = Transform3D(-4.3711385e-08, -0.2, -4.3711385e-08, 1, -8.742278e-09, 4.3711395e-08, -4.37114e-08, -8.742276e-09, 1, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_tpaj3")
mesh = SubResource("CylinderMesh_dd2be")

[node name="RimMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D FL/TireMesh"]
transform = Transform3D(1.305, -4.986891e-16, 2.6645353e-15, 0, -5.704336e-08, -1.3050001, -3.9765484e-22, 1.305, -5.704336e-08, 0.03097983, -0.99410105, 0.052454233)
mesh = SubResource("TextMesh_sl0jo")

[node name="VehicleWheel3D BR" type="VehicleWheel3D" parent="VehicleBody3D"]
physics_interpolation_mode = 1
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -1.5, 0, 1)
wheel_roll_influence = 0.5
wheel_friction_slip = 1.0
suspension_stiffness = 20.0
suspension_max_force = 160.0
damping_compression = 0.3
damping_relaxation = 0.5

[node name="TireMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D BR"]
transform = Transform3D(-4.3711385e-08, -0.2, -4.3711385e-08, 1, -8.742278e-09, 4.3711395e-08, -4.37114e-08, -8.742276e-09, 1, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_tpaj3")
mesh = SubResource("CylinderMesh_dd2be")

[node name="RimMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D BR/TireMesh"]
transform = Transform3D(1.305, -4.986891e-16, 1.7763568e-15, 0, -5.704336e-08, -1.3050001, -3.9765484e-22, 1.305, -5.704336e-08, 0.030979844, 0.99105644, 0.052454233)
mesh = SubResource("TextMesh_sl0jo")

[node name="VehicleWheel3D BL" type="VehicleWheel3D" parent="VehicleBody3D"]
physics_interpolation_mode = 1
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -1.5, 0, -1)
wheel_roll_influence = 0.5
wheel_friction_slip = 1.0
suspension_stiffness = 20.0
suspension_max_force = 160.0
damping_compression = 0.3
damping_relaxation = 0.5

[node name="TireMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D BL"]
transform = Transform3D(-4.3711385e-08, -0.2, -4.3711385e-08, 1, -8.742278e-09, 4.3711395e-08, -4.37114e-08, -8.742276e-09, 1, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_tpaj3")
mesh = SubResource("CylinderMesh_dd2be")

[node name="RimMesh" type="MeshInstance3D" parent="VehicleBody3D/VehicleWheel3D BL/TireMesh"]
transform = Transform3D(1.305, -4.986891e-16, 2.6645353e-15, 0, -5.704336e-08, -1.3050001, -3.9765484e-22, 1.305, -5.704336e-08, 0.030979827, -0.99410105, 0.052454233)
mesh = SubResource("TextMesh_sl0jo")
